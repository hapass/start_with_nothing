<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Cache-control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<style>
   html, body { height: 100%; width:100%; float: left; margin: 0; background-color: black; }
   canvas { float: left; }
</style>
</head>
<body>
<script type="text/javascript">!function(t,e){"use strict";t.game=t.game||{};var i,n=function(){return R.__string_rec(this,"")},r=r||{};var o=function(){};o.__name__=!0,o.cca=function(t,e){var i=t.charCodeAt(e);if(i==i)return i},o.substr=function(t,e,i){if(null==i)i=t.length;else if(i<0){if(0!=e)return"";i=t.length+i}return t.substr(e,i)},Math.__name__=!0;var s=function(){};s.__name__=!0,s.string=function(t){return R.__string_rec(t,"")};var h=function(t,e,i){this.r=this.correctColor(t),this.g=this.correctColor(e),this.b=this.correctColor(i)};h.__name__=!0,h.get_RED=function(){return new h(1,0,0)},h.get_YELLOW=function(){return new h(1,1,0)},h.get_WHITE=function(){return new h(1,1,1)},h.prototype={correctColor:function(t){return t<0?0:t>1?1:t}};var a=function(){};a.__name__=!0,a.equals=function(t,e){return Math.abs(t-e)<1e-5};var c=function(){this.update=function(t){},this.shouldExitLoop=!1};c.__name__=!0,c.prototype={tick:function(t){this.shouldExitLoop||(this.update(t),window.requestAnimationFrame(Y(this,this.tick)))},start:function(t){this.shouldExitLoop=!1,this.update=t,this.tick(0)},stop:function(){this.shouldExitLoop=!0,this.update=function(t){}}};var _=function(t){this.previousState=_.KEY_UP,this.currentState=_.KEY_UP,this.nextState=_.KEY_UP,this.code=0,this.code=t};_.__name__=!0,_.prototype={wasPressed:function(){return this.currentState==_.KEY_DOWN&&this.previousState==_.KEY_UP},isPressed:function(){return this.currentState==_.KEY_DOWN}};var u=function(t){this.trackedKeyCodes=[],this.trackedKeys=new G,window.addEventListener("keydown",Y(this,this.onKeyDown)),window.addEventListener("keyup",Y(this,this.onKeyUp));for(var e=0;e<t.length;){var i=t[e];++e;this.trackedKeys.h[i.code];this.trackedKeys.h[i.code]=i,this.trackedKeyCodes.push(i.code)}};u.__name__=!0,u.prototype={onKeyDown:function(t){var e=this.trackedKeys.h[t.keyCode];null!=e&&(e.nextState=_.KEY_DOWN)},onKeyUp:function(t){var e=this.trackedKeys.h[t.keyCode];null!=e&&(e.nextState=_.KEY_UP)},update:function(){for(var t=0,e=this.trackedKeyCodes;t<e.length;){var i=e[t];++t,this.trackedKeys.h[i].previousState=this.trackedKeys.h[i].currentState,this.trackedKeys.h[i].currentState=this.trackedKeys.h[i].nextState}},dispose:function(){window.removeEventListener("keydown",Y(this,this.onKeyDown)),window.removeEventListener("keyup",Y(this,this.onKeyUp));for(var t=0,e=this.trackedKeyCodes;t<e.length;){var i=e[t];++t,this.trackedKeys.h[i].previousState=_.KEY_UP,this.trackedKeys.h[i].currentState=_.KEY_UP,this.trackedKeys.h[i].nextState=_.KEY_UP}}};var l=function(){this.radius=0,this.position=new m};l.__name__=!0;var d=function(){this.thenAction=function(t){},this.isResolved=!1};d.__name__=!0,d.prototype={then:function(t){return this.thenAction=t,this.isResolved&&this.thenAction(this.resolvedResult),this},resolve:function(t){return this.thenAction(t),this.isResolved=!0,this.resolvedResult=t,this}};var g=function(){this.position=new m,this.width=0,this.height=0,this.color=h.get_WHITE()};g.__name__=!0;var p=function(t,e){if(this.quads=[],this.light=new l,this.canvas=this.createCanvas(t,e),this.context=O.getContextWebGL(this.canvas,null),this.context.viewport(0,0,this.context.canvas.width,this.context.canvas.height),null==this.context)throw new Z("Your browser doesn't support webgl. Please update your browser.");var i=new v(this.context);this.quadDrawingProgram=new f(this.context,i,t,e)};p.__name__=!0,p.prototype={createCanvas:function(t,e){var i=window.document.createElement("canvas"),n=window.document.body.clientHeight,r=window.document.body.clientHeight*(t/e);return i.setAttribute("width",null==r?"null":""+r),i.setAttribute("height",null==n?"null":""+n),i.style.marginLeft=s.string((window.document.body.clientWidth-r)/2)+"px",window.document.body.appendChild(i),i},setLight:function(t){this.light=t},add:function(t){for(var e=0;e<t.length;){var i=t[e];++e,this.quads.push(i)}},draw:function(){this.clear(),this.quadDrawingProgram.drawQuads(this.quads,this.light)},clear:function(){this.context.clearColor(0,0,0,1),this.context.clear(16384)},dispose:function(){this.quadDrawingProgram.dispose(),this.context.finish(),window.document.body.removeChild(this.canvas)}};var f=function(t,e,i,n){this.gameWidth=i,this.gameHeight=n,this.vertexArray=new Float32Array(0),e.compileProgram("quad_drawing_program","VertexShader.glsl","FragmentShader.glsl"),this.program=e.getProgram("quad_drawing_program"),this.context=t,this.quadVertexBuffer=this.context.createBuffer(),this.context.bindBuffer(34962,this.quadVertexBuffer),this.setupQuadPositionAttribute(),this.setupQuadColorAttribute(),this.clipSpaceProjection=this.context.getUniformLocation(this.program,"clip_space_projection"),this.screenSpaceProjection=this.context.getUniformLocation(this.program,"screen_space_projection"),this.lightConfiguration=this.context.getUniformLocation(this.program,"light_configuration"),this.context.useProgram(this.program),this.setClipSpaceProjection(),this.setScreenSpaceProjection()};f.__name__=!0,f.prototype={setupQuadPositionAttribute:function(){var t=this.context.getAttribLocation(this.program,"quad_position");this.context.enableVertexAttribArray(t),this.context.vertexAttribPointer(t,2,5126,!1,20,0)},setupQuadColorAttribute:function(){var t=this.context.getAttribLocation(this.program,"quad_color");this.context.enableVertexAttribArray(t),this.context.vertexAttribPointer(t,3,5126,!1,20,8)},drawQuads:function(t,e){this.context.uniform3f(this.lightConfiguration,e.position.x,e.position.y,e.radius);var i=6*t.length,n=5*i;this.vertexArray.length!=n&&(this.vertexArray=new Float32Array(n));for(var r=0,o=t.length;r<o;){var s=r++,h=30*s;this.vertexArray[h]=t[s].position.x,this.vertexArray[h+1]=t[s].position.y,this.vertexArray[h+2]=t[s].color.r,this.vertexArray[h+3]=t[s].color.g,this.vertexArray[h+4]=t[s].color.b,this.vertexArray[h+5]=t[s].width+t[s].position.x,this.vertexArray[h+6]=t[s].position.y,this.vertexArray[h+7]=t[s].color.r,this.vertexArray[h+8]=t[s].color.g,this.vertexArray[h+9]=t[s].color.b,this.vertexArray[h+10]=t[s].position.x,this.vertexArray[h+11]=t[s].height+t[s].position.y,this.vertexArray[h+12]=t[s].color.r,this.vertexArray[h+13]=t[s].color.g,this.vertexArray[h+14]=t[s].color.b,this.vertexArray[h+15]=t[s].position.x,this.vertexArray[h+16]=t[s].height+t[s].position.y,this.vertexArray[h+17]=t[s].color.r,this.vertexArray[h+18]=t[s].color.g,this.vertexArray[h+19]=t[s].color.b,this.vertexArray[h+20]=t[s].width+t[s].position.x,this.vertexArray[h+21]=t[s].position.y,this.vertexArray[h+22]=t[s].color.r,this.vertexArray[h+23]=t[s].color.g,this.vertexArray[h+24]=t[s].color.b,this.vertexArray[h+25]=t[s].width+t[s].position.x,this.vertexArray[h+26]=t[s].height+t[s].position.y,this.vertexArray[h+27]=t[s].color.r,this.vertexArray[h+28]=t[s].color.g,this.vertexArray[h+29]=t[s].color.b}this.context.bufferData(34962,this.vertexArray,35048),this.context.drawArrays(4,0,i)},setClipSpaceProjection:function(){var t=this.gameWidth,e=this.gameHeight;this.context.uniformMatrix4fv(this.clipSpaceProjection,!1,[2/t,0,0,0,0,-2/e,0,0,0,0,1,0,-1,1,0,1])},setScreenSpaceProjection:function(){var t=this.gameWidth,e=this.gameHeight,i=this.context.canvas.width,n=this.context.canvas.height,r=Math.sqrt(t*t+e*e),o=Math.sqrt(i*i+n*n);this.context.uniformMatrix4fv(this.screenSpaceProjection,!1,[i/t,0,0,0,0,-n/e,0,0,0,0,o/r,0,0,n,0,1])},dispose:function(){this.context.deleteProgram(this.program),this.context.deleteBuffer(this.quadVertexBuffer)}};var v=function(t){this.context=null,this.programs=new W,this.context=t};v.__name__=!0,v.prototype={compileProgram:function(t,e,i){var n=this.context.createProgram();if(this.context.attachShader(n,this.compileShader(e,35633)),this.context.attachShader(n,this.compileShader(i,35632)),this.context.linkProgram(n),!this.context.getProgramParameter(n,35714)){this.context.getProgramInfoLog(n);throw this.context.deleteProgram(n),new Z("Program linking error. Program name: "+t)}var r=this.programs;null!=H[t]?r.setReserved(t,n):r.h[t]=n},compileShader:function(t,e){var i=this.context.createShader(e);if(this.context.shaderSource(i,b.getString(t)),this.context.compileShader(i),!this.context.getShaderParameter(i,35713)){this.context.getShaderInfoLog(i);throw this.context.deleteShader(i),new Z("Shader compilation error. Shader file name: "+t)}return i},getProgram:function(t){var e=this.programs;if(!(null!=H[t]?e.existsReserved(t):e.h.hasOwnProperty(t)))throw new Z("The program hasn't been compiled yet. Program name: "+t);var i=this.programs;return null!=H[t]?i.getReserved(t):i.h[t]}};var m=function(){this.y=0,this.x=0};m.__name__=!0,m.prototype={add:function(t,e){this.x+=t,this.y+=e},set:function(t,e){this.x=t,this.y=e}};var x=t.game.Config=function(){};x.__name__=!0;var y=function(){this.isDoubleJump=!1,this.isOnGround=!1,this.lightSpeed=0,this.isAnimatingLight=!1,this.light=new l,this.position=new m,this.currentSpeed=new m,this.shape=new g,this.shape.position=this.position,this.shape.width=x.TILE_SIZE,this.shape.height=x.TILE_SIZE,this.shape.color=x.GLOW_COLOR};y.__name__=!0,y.prototype={update:function(t){this.emitLight(),this.calculateSpeed(),this.move(t)},calculateSpeed:function(){this.currentSpeed.add(0,x.GLOW_FALL_ACCELERATION),_.RIGHT.isPressed()?this.currentSpeed.set(x.GLOW_SPEED,this.currentSpeed.y):_.LEFT.isPressed()?this.currentSpeed.set(-x.GLOW_SPEED,this.currentSpeed.y):this.currentSpeed.set(0,this.currentSpeed.y),_.SPACE.wasPressed()&&(this.isOnGround||this.isDoubleJump)&&(this.currentSpeed.add(0,x.GLOW_JUMP_ACCELERATION),this.isDoubleJump=this.isOnGround)},move:function(t){this.isOnGround=!1,this.moveHorizontally(this.position.x+this.currentSpeed.x,t),this.moveVertically(this.position.y+this.currentSpeed.y,t)},moveHorizontally:function(t,e){if(!a.equals(t,this.position.x)){if(t<this.position.x){var i=this.getTileIndex(t-1),n=e.getTileType(this.getTileIndex(this.position.y),i),r=e.getTileType(this.getTileIndex(this.getEnd(this.position.y)),i);this.position.x=1==n||1==r?this.getPosition(i+1):t}else{var o=this.getTileIndex(this.getEnd(t)+1),s=e.getTileType(this.getTileIndex(this.position.y),o),h=e.getTileType(this.getTileIndex(this.getEnd(this.position.y)),o);this.position.x=1==s||1==h?this.getPosition(o-1):t}this.light.position.x=this.getCenter(this.position.x)}},moveVertically:function(t,e){if(!a.equals(t,this.position.y)){if(t<this.position.y){var i=this.getTileIndex(t-1),n=e.getTileType(i,this.getTileIndex(this.position.x)),r=e.getTileType(i,this.getTileIndex(this.getEnd(this.position.x)));1==n||1==r?(this.position.y=this.getPosition(i+1),this.currentSpeed.set(this.currentSpeed.x,0)):this.position.y=t}else{var o=this.getTileIndex(this.getEnd(t)+1),s=e.getTileType(o,this.getTileIndex(this.position.x)),h=e.getTileType(o,this.getTileIndex(this.getEnd(this.position.x)));1==s||1==h?(this.position.y=this.getPosition(o-1),this.currentSpeed.set(this.currentSpeed.x,0),this.isOnGround=!0):this.position.y=t}this.light.position.y=this.getCenter(this.position.y)}},getTileIndex:function(t){return Math.floor(t/x.TILE_SIZE)},getPosition:function(t){return t*x.TILE_SIZE},getCenter:function(t){return t+x.TILE_SIZE/2},getEnd:function(t){return t+x.TILE_SIZE-1},emitLight:function(){_.SPACE.wasPressed()&&(this.lightSpeed=x.GLOW_LIGHT_STARTING_SPEED,this.light.radius=x.GLOW_LIGHT_MIN_RADIUS,this.isAnimatingLight=!0),this.isAnimatingLight&&(this.lightSpeed+=x.GLOW_LIGHT_ACCELERATION,this.light.radius+=this.lightSpeed,this.light.radius>x.GLOW_LIGHT_MAX_RADIUS&&(this.isAnimatingLight=!1,this.light.radius=0))}};var w=function(){this.glowPosition=new m,this.data=[],this.compositeShape=[],this.data=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,1,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,1]];for(var t=0,e=this.data.length;t<e;)for(var i=t++,n=0,r=this.data[i].length;n<r;){var o=n++,s=o*x.TILE_SIZE,h=i*x.TILE_SIZE;if(1==this.data[i][o]||2==this.data[i][o]){var a=new g;a.position.set(s,h),a.width=x.TILE_SIZE,a.height=x.TILE_SIZE,1==this.data[i][o]&&(a.color=x.WALL_COLOR),2==this.data[i][o]&&(a.color=x.EXIT_COLOR),this.compositeShape.push(a)}3==this.data[i][o]&&this.glowPosition.set(o*x.TILE_SIZE,i*x.TILE_SIZE)}};w.__name__=!0,w.prototype={getTileType:function(t,e){return 0<=t&&t<this.data.length&&0<=e&&e<this.data[t].length?this.data[t][e]:-1}};var S=r["game.GameResult"]={__ename__:!0,__constructs__:["Win","Fail"],Win:{_hx_index:0,__enum__:"game.GameResult",toString:n},Fail:{_hx_index:1,__enum__:"game.GameResult",toString:n}},I=function(){};I.__name__=!0,I.main=function(){I.launch()},I.launch=function(){(new E).run().then(function(t){switch(t._hx_index){case 0:window.alert("You won!");break;case 1:window.alert("You've lost. Try again!"),I.launch()}})};var E=function(){this.gameResult=new d,this.level=new w,this.glow=new y,this.renderer=new p(x.GAME_WIDTH,x.GAME_HEIGHT),this.keyboard=new u([_.SPACE,_.RIGHT,_.LEFT,_.SHIFT]),this.loop=new c};E.__name__=!0,E.prototype={run:function(){return this.glow.position.set(this.level.glowPosition.x,this.level.glowPosition.y),this.glow.light.position.set(this.glow.position.x+x.TILE_SIZE/2,this.glow.position.y+x.TILE_SIZE/2),this.renderer.add([this.glow.shape]),this.renderer.setLight(this.glow.light),this.renderer.add(this.level.compositeShape),this.loop.start(Y(this,this.update)),this.gameResult},update:function(t){this.keyboard.update(),this.glow.update(this.level);var e=this.level.getTileType(Math.floor((this.glow.position.y+x.TILE_SIZE/2)/x.TILE_SIZE),Math.floor((this.glow.position.x+x.TILE_SIZE/2)/x.TILE_SIZE));-1!=e?2!=e?this.renderer.draw():this.stop(S.Win):this.stop(S.Fail)},stop:function(t){this.loop.stop(),this.renderer.dispose(),this.keyboard.dispose(),this.gameResult.resolve(t)}};var b=function(){};b.__name__=!0,b.getString=function(t){for(var e=0,i=b.content;e<i.length;){var n=i[e];if(++e,n.name==t)return null!=n.str?n.str:T.decode(n.data).toString()}return null};var A=function(t){this.length=t.byteLength,this.b=new Uint8Array(t),this.b.bufferValue=t,t.hxBytes=this,t.bytes=this.b};A.__name__=!0,A.ofString=function(t,e){if(e==L.RawNative){for(var i=new Uint8Array(t.length<<1),n=0,r=t.length;n<r;){var o=n++,s=t.charCodeAt(o);i[o<<1]=255&s,i[o<<1|1]=s>>8}return new A(i.buffer)}for(var h=[],a=0;a<t.length;){var c=t.charCodeAt(a++);55296<=c&&c<=56319&&(c=c-55232<<10|1023&t.charCodeAt(a++)),c<=127?h.push(c):c<=2047?(h.push(192|c>>6),h.push(128|63&c)):c<=65535?(h.push(224|c>>12),h.push(128|c>>6&63),h.push(128|63&c)):(h.push(240|c>>18),h.push(128|c>>12&63),h.push(128|c>>6&63),h.push(128|63&c))}return new A(new Uint8Array(h).buffer)},A.prototype={getString:function(t,e,i){if(t<0||e<0||t+e>this.length)throw new Z(P.OutsideBounds);null==i&&(i=L.UTF8);var n="",r=this.b,o=t,s=t+e;switch(i._hx_index){case 0:for(;o<s;){var h=r[o++];if(h<128){if(0==h)break;n+=String.fromCodePoint(h)}else if(h<224){var a=(63&h)<<6|127&r[o++];n+=String.fromCodePoint(a)}else if(h<240){var c=(31&h)<<12|(127&r[o++])<<6|127&r[o++];n+=String.fromCodePoint(c)}else{var _=(15&h)<<18|(127&r[o++])<<12|(127&r[o++])<<6|127&r[o++];n+=String.fromCodePoint(_)}}break;case 1:for(;o<s;){var u=r[o++]|r[o++]<<8;n+=String.fromCodePoint(u)}}return n},toString:function(){return this.getString(0,this.length)}};var L=r["haxe.io.Encoding"]={__ename__:!0,__constructs__:["UTF8","RawNative"],UTF8:{_hx_index:0,__enum__:"haxe.io.Encoding",toString:n},RawNative:{_hx_index:1,__enum__:"haxe.io.Encoding",toString:n}},T=function(){};T.__name__=!0,T.decode=function(t,e){if(null==e&&(e=!0),e)for(;61==o.cca(t,t.length-1);)t=o.substr(t,0,-1);return new C(T.BYTES).decodeBytes(A.ofString(t))};var C=function(t){for(var e=t.length,i=1;e>1<<i;)++i;if(i>8||e!=1<<i)throw new Z("BaseCode : base length must be a power of two.");this.base=t,this.nbits=i};C.__name__=!0,C.prototype={initTable:function(){for(var t=[],e=0;e<256;){t[e++]=-1}for(var i=0,n=this.base.length;i<n;){var r=i++;t[this.base.b[r]]=r}this.tbl=t},decodeBytes:function(t){var e=this.nbits;this.base;null==this.tbl&&this.initTable();for(var i=this.tbl,n=t.length*e>>3,r=new A(new ArrayBuffer(n)),o=0,s=0,h=0,a=0;a<n;){for(;s<8;){s+=e,o<<=e;var c=i[t.b[h++]];if(-1==c)throw new Z("BaseCode : invalid encoded char");o|=c}s-=8,r.b[a++]=o>>s&255}return r}};var G=function(){this.h={}};G.__name__=!0;var W=function(){this.h={}};W.__name__=!0,W.prototype={setReserved:function(t,e){null==this.rh&&(this.rh={}),this.rh["$"+t]=e},getReserved:function(t){return null==this.rh?null:this.rh["$"+t]},existsReserved:function(t){return null!=this.rh&&this.rh.hasOwnProperty("$"+t)}};var P=r["haxe.io.Error"]={__ename__:!0,__constructs__:["Blocked","Overflow","OutsideBounds","Custom"],Blocked:{_hx_index:0,__enum__:"haxe.io.Error",toString:n},Overflow:{_hx_index:1,__enum__:"haxe.io.Error",toString:n},OutsideBounds:{_hx_index:2,__enum__:"haxe.io.Error",toString:n},Custom:(i=function(t){return{_hx_index:3,e:t,__enum__:"haxe.io.Error",toString:n}},i.__params__=["e"],i)},Z=function(t){Error.call(this),this.val=t,Error.captureStackTrace&&Error.captureStackTrace(this,Z)};Z.__name__=!0,Z.__super__=Error,Z.prototype=function(t,e){var i=Object.create(t);for(var n in e)i[n]=e[n];return e.toString!==Object.prototype.toString&&(i.toString=e.toString),i}(Error.prototype,{});var R=function(){};R.__name__=!0,R.__string_rec=function(t,e){if(null==t)return"null";if(e.length>=5)return"<...>";var i=typeof t;switch("function"==i&&(t.__name__||t.__ename__)&&(i="object"),i){case"function":return"<function>";case"object":if(t.__enum__){var n=r[t.__enum__],o=n.__constructs__[t._hx_index],s=n[o];return s.__params__?(e+="\t",o+"("+function(i){for(var n=[],r=0,o=s.__params__;r<o.length;){var h=o[r];r+=1,n.push(R.__string_rec(t[h],e))}return n}().join(",")+")"):o}if(t instanceof Array){var h="[";e+="\t";for(var a=0,c=t.length;a<c;){var _=a++;h+=(_>0?",":"")+R.__string_rec(t[_],e)}return h+="]"}var u;try{u=t.toString}catch(t){t instanceof Z&&t.val;return"???"}if(null!=u&&u!=Object.toString&&"function"==typeof u){var l=t.toString();if("[object Object]"!=l)return l}var d="{\n";e+="\t";var g=null!=t.hasOwnProperty,p=null;for(p in t)g&&!t.hasOwnProperty(p)||"prototype"!=p&&"__class__"!=p&&"__super__"!=p&&"__interfaces__"!=p&&"__properties__"!=p&&(2!=d.length&&(d+=", \n"),d+=e+p+" : "+R.__string_rec(t[p],e));return d+="\n"+(e=e.substring(1))+"}";case"string":return t;default:return String(t)}};var O=function(){};function Y(t,i){return null==i?null:(null==i.__id__&&(i.__id__=e.$haxeUID++),null==t.hx__closures__?t.hx__closures__={}:n=t.hx__closures__[i.__id__],null==n&&(n=i.bind(t),t.hx__closures__[i.__id__]=n),n);var n}O.__name__=!0,O.getContextWebGL=function(t,e){var i=t.getContext("webgl",e);if(null!=i)return i;var n=t.getContext("experimental-webgl",e);return null!=n?n:null},e.$haxeUID|=0,null==String.fromCodePoint&&(String.fromCodePoint=function(t){return t<65536?String.fromCharCode(t):String.fromCharCode(55232+(t>>10))+String.fromCharCode(56320+(1023&t))}),String.__name__=!0,Array.__name__=!0,b.content=[{name:"FragmentShader.glsl",data:"cHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7Cgp2YXJ5aW5nIHZlYzQgY29sb3I7CnVuaWZvcm0gdmVjMyBsaWdodF9jb25maWd1cmF0aW9uOwp1bmlmb3JtIG1hdDQgc2NyZWVuX3NwYWNlX3Byb2plY3Rpb247Cgp2b2lkIG1haW4oKSB7CiAgICB2ZWM0IGxpZ2h0X2NvbmZpZ3VyYXRpb25fc2NyZWVuX3NwYWNlID0gc2NyZWVuX3NwYWNlX3Byb2plY3Rpb24gKiB2ZWM0KGxpZ2h0X2NvbmZpZ3VyYXRpb24sIDEpOwogICAgZmxvYXQgbGlnaHRfcmFkaXVzID0gbGlnaHRfY29uZmlndXJhdGlvbl9zY3JlZW5fc3BhY2UuejsKCiAgICBmbG9hdCBsaWdodF9pbnRlbnNpdHkgPSAwLjA7CiAgICBpZiAobGlnaHRfcmFkaXVzID4gMC4wMDAxKQogICAgewogICAgICAgIHZlYzIgbGlnaHRfZnJhZ21lbnRfZGlmZmVyZW5jZSA9IGdsX0ZyYWdDb29yZC54eSAtIGxpZ2h0X2NvbmZpZ3VyYXRpb25fc2NyZWVuX3NwYWNlLnh5OwogICAgICAgIGxpZ2h0X2ludGVuc2l0eSA9IG1heCgxLjAgLSBkb3QobGlnaHRfZnJhZ21lbnRfZGlmZmVyZW5jZSwgbGlnaHRfZnJhZ21lbnRfZGlmZmVyZW5jZSkgLyAobGlnaHRfcmFkaXVzICogbGlnaHRfcmFkaXVzKSwgMC4wKTsKICAgIH0KCiAgICBmbG9hdCBnYW1tYSA9IDIuMjsKICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQocG93KHZlYzMoY29sb3IuciwgY29sb3IuZywgY29sb3IuYikgKiBsaWdodF9pbnRlbnNpdHksIHZlYzMoMS4wIC8gZ2FtbWEpKSwgMSk7Cn0"},{name:"VertexShader.glsl",data:"cHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7CgphdHRyaWJ1dGUgdmVjMiBxdWFkX3Bvc2l0aW9uOwphdHRyaWJ1dGUgdmVjMyBxdWFkX2NvbG9yOwoKdW5pZm9ybSBtYXQ0IGNsaXBfc3BhY2VfcHJvamVjdGlvbjsKdmFyeWluZyB2ZWM0IGNvbG9yOwoKdm9pZCBtYWluKCkgewogICAgZ2xfUG9zaXRpb24gPSBjbGlwX3NwYWNlX3Byb2plY3Rpb24gKiB2ZWM0KHF1YWRfcG9zaXRpb24sIDAsIDEpOwogICAgY29sb3IgPSB2ZWM0KHF1YWRfY29sb3IsIDEpOwp9"}];var H={};Object.defineProperty(Z.prototype,"message",{get:function(){return String(this.val)}}),R.__toStr={}.toString,_.KEY_DOWN="KEY_DOWN",_.KEY_UP="KEY_UP",_.SPACE=new _(32),_.RIGHT=new _(39),_.LEFT=new _(37),_.SHIFT=new _(16),x.TILE_SIZE=20,x.GAME_WIDTH_TILES=40,x.GAME_HEIGHT_TILES=30,x.GAME_WIDTH=x.GAME_WIDTH_TILES*x.TILE_SIZE,x.GAME_HEIGHT=x.GAME_HEIGHT_TILES*x.TILE_SIZE,x.GLOW_COLOR=h.get_WHITE(),x.GLOW_SPEED=1,x.GLOW_LIGHT_MIN_RADIUS=20,x.GLOW_LIGHT_MAX_RADIUS=220,x.GLOW_LIGHT_STARTING_SPEED=1,x.GLOW_LIGHT_ACCELERATION=2,x.EXIT_COLOR=h.get_YELLOW(),x.WALL_COLOR=h.get_RED(),x.GLOW_FALL_ACCELERATION=.2,x.GLOW_JUMP_ACCELERATION=-5,T.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T.BYTES=A.ofString(T.CHARS),I.main()}("undefined"!=typeof exports?exports:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);</script>
</body>
</html>