<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Cache-control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<style>
   html, body { height: 100%; width:100%; float: left; margin: 0; background-color: black; }
   canvas { float: left; }
</style>
</head>
<body>
<script type="text/javascript">!function(t,e){"use strict";t.game=t.game||{};var i,r=function(){return R.__string_rec(this,"")},n=n||{};var o=function(){};o.__name__=!0,o.cca=function(t,e){var i=t.charCodeAt(e);if(i==i)return i},o.substr=function(t,e,i){if(null==i)i=t.length;else if(i<0){if(0!=e)return"";i=t.length+i}return t.substr(e,i)},Math.__name__=!0;var s=function(){};s.__name__=!0,s.string=function(t){return R.__string_rec(t,"")};var a=function(t,e,i){this.r=this.correctColor(t),this.g=this.correctColor(e),this.b=this.correctColor(i)};a.__name__=!0,a.get_RED=function(){return new a(1,0,0)},a.get_YELLOW=function(){return new a(1,1,0)},a.get_WHITE=function(){return new a(1,1,1)},a.prototype={correctColor:function(t){return t<0?0:t>1?1:t}};var h=function(){};h.__name__=!0,h.equals=function(t,e){return Math.abs(t-e)<1e-5};var _=function(){this.update=function(t){},this.shouldExitLoop=!1};_.__name__=!0,_.prototype={tick:function(t){this.shouldExitLoop||(this.update(t),window.requestAnimationFrame(Y(this,this.tick)))},start:function(t){this.shouldExitLoop=!1,this.update=t,this.tick(0)},stop:function(){this.shouldExitLoop=!0,this.update=function(t){}}};var c=function(t){this.previousState=c.KEY_UP,this.currentState=c.KEY_UP,this.nextState=c.KEY_UP,this.code=0,this.code=t};c.__name__=!0;var u=function(t){this.trackedKeyCodes=[],this.trackedKeys=new T,window.addEventListener("keydown",Y(this,this.onKeyDown)),window.addEventListener("keyup",Y(this,this.onKeyUp));for(var e=0;e<t.length;){var i=t[e];++e;this.trackedKeys.h[i.code];this.trackedKeys.h[i.code]=i,this.trackedKeyCodes.push(i.code)}};u.__name__=!0,u.prototype={onKeyDown:function(t){var e=this.trackedKeys.h[t.keyCode];null!=e&&(e.nextState=c.KEY_DOWN)},onKeyUp:function(t){var e=this.trackedKeys.h[t.keyCode];null!=e&&(e.nextState=c.KEY_UP)},update:function(){for(var t=0,e=this.trackedKeyCodes;t<e.length;){var i=e[t];++t,this.trackedKeys.h[i].previousState=this.trackedKeys.h[i].currentState,this.trackedKeys.h[i].currentState=this.trackedKeys.h[i].nextState}},dispose:function(){window.removeEventListener("keydown",Y(this,this.onKeyDown)),window.removeEventListener("keyup",Y(this,this.onKeyUp));for(var t=0,e=this.trackedKeyCodes;t<e.length;){var i=e[t];++t,this.trackedKeys.h[i].previousState=c.KEY_UP,this.trackedKeys.h[i].currentState=c.KEY_UP,this.trackedKeys.h[i].nextState=c.KEY_UP}}};var l=function(){this.radius=0,this.position=new m};l.__name__=!0;var d=function(){this.thenAction=function(t){},this.isResolved=!1};d.__name__=!0,d.prototype={then:function(t){return this.thenAction=t,this.isResolved&&this.thenAction(this.resolvedResult),this},resolve:function(t){return this.thenAction(t),this.isResolved=!0,this.resolvedResult=t,this}};var g=function(){this.position=new m,this.width=0,this.height=0,this.color=a.get_WHITE()};g.__name__=!0;var p=function(t,e){if(this.quads=[],this.light=new l,this.canvas=this.createCanvas(t,e),this.context=O.getContextWebGL(this.canvas,null),this.context.viewport(0,0,this.context.canvas.width,this.context.canvas.height),null==this.context)throw new P("Your browser doesn't support webgl. Please update your browser.");var i=new v(this.context);this.quadDrawingProgram=new f(this.context,i,t,e)};p.__name__=!0,p.prototype={createCanvas:function(t,e){var i=window.document.createElement("canvas"),r=window.document.body.clientHeight,n=window.document.body.clientHeight*(t/e);return i.setAttribute("width",null==n?"null":""+n),i.setAttribute("height",null==r?"null":""+r),i.style.marginLeft=s.string((window.document.body.clientWidth-n)/2)+"px",window.document.body.appendChild(i),i},setLight:function(t){this.light=t},add:function(t){for(var e=0;e<t.length;){var i=t[e];++e,this.quads.push(i)}},draw:function(){this.clear(),this.quadDrawingProgram.drawQuads(this.quads,this.light)},clear:function(){this.context.clearColor(0,0,0,1),this.context.clear(16384)},dispose:function(){this.quadDrawingProgram.dispose(),this.context.finish(),window.document.body.removeChild(this.canvas)}};var f=function(t,e,i,r){this.gameWidth=i,this.gameHeight=r,this.vertexArray=new Float32Array(0),e.compileProgram("quad_drawing_program","VertexShader.glsl","FragmentShader.glsl"),this.program=e.getProgram("quad_drawing_program"),this.context=t,this.quadVertexBuffer=this.context.createBuffer(),this.context.bindBuffer(34962,this.quadVertexBuffer),this.setupQuadPositionAttribute(),this.setupQuadColorAttribute(),this.clipSpaceProjection=this.context.getUniformLocation(this.program,"clip_space_projection"),this.screenSpaceProjection=this.context.getUniformLocation(this.program,"screen_space_projection"),this.lightConfiguration=this.context.getUniformLocation(this.program,"light_configuration"),this.context.useProgram(this.program),this.setClipSpaceProjection(),this.setScreenSpaceProjection()};f.__name__=!0,f.prototype={setupQuadPositionAttribute:function(){var t=this.context.getAttribLocation(this.program,"quad_position");this.context.enableVertexAttribArray(t),this.context.vertexAttribPointer(t,2,5126,!1,20,0)},setupQuadColorAttribute:function(){var t=this.context.getAttribLocation(this.program,"quad_color");this.context.enableVertexAttribArray(t),this.context.vertexAttribPointer(t,3,5126,!1,20,8)},drawQuads:function(t,e){this.context.uniform3f(this.lightConfiguration,e.position.x,e.position.y,e.radius);var i=6*t.length,r=5*i;this.vertexArray.length!=r&&(this.vertexArray=new Float32Array(r));for(var n=0,o=t.length;n<o;){var s=n++,a=30*s;this.vertexArray[a]=t[s].position.x,this.vertexArray[a+1]=t[s].position.y,this.vertexArray[a+2]=t[s].color.r,this.vertexArray[a+3]=t[s].color.g,this.vertexArray[a+4]=t[s].color.b,this.vertexArray[a+5]=t[s].width+t[s].position.x,this.vertexArray[a+6]=t[s].position.y,this.vertexArray[a+7]=t[s].color.r,this.vertexArray[a+8]=t[s].color.g,this.vertexArray[a+9]=t[s].color.b,this.vertexArray[a+10]=t[s].position.x,this.vertexArray[a+11]=t[s].height+t[s].position.y,this.vertexArray[a+12]=t[s].color.r,this.vertexArray[a+13]=t[s].color.g,this.vertexArray[a+14]=t[s].color.b,this.vertexArray[a+15]=t[s].position.x,this.vertexArray[a+16]=t[s].height+t[s].position.y,this.vertexArray[a+17]=t[s].color.r,this.vertexArray[a+18]=t[s].color.g,this.vertexArray[a+19]=t[s].color.b,this.vertexArray[a+20]=t[s].width+t[s].position.x,this.vertexArray[a+21]=t[s].position.y,this.vertexArray[a+22]=t[s].color.r,this.vertexArray[a+23]=t[s].color.g,this.vertexArray[a+24]=t[s].color.b,this.vertexArray[a+25]=t[s].width+t[s].position.x,this.vertexArray[a+26]=t[s].height+t[s].position.y,this.vertexArray[a+27]=t[s].color.r,this.vertexArray[a+28]=t[s].color.g,this.vertexArray[a+29]=t[s].color.b}this.context.bufferData(34962,this.vertexArray,35048),this.context.drawArrays(4,0,i)},setClipSpaceProjection:function(){var t=this.gameWidth,e=this.gameHeight;this.context.uniformMatrix4fv(this.clipSpaceProjection,!1,[2/t,0,0,0,0,-2/e,0,0,0,0,1,0,-1,1,0,1])},setScreenSpaceProjection:function(){var t=this.gameWidth,e=this.gameHeight,i=this.context.canvas.width,r=this.context.canvas.height,n=Math.sqrt(t*t+e*e),o=Math.sqrt(i*i+r*r);this.context.uniformMatrix4fv(this.screenSpaceProjection,!1,[i/t,0,0,0,0,-r/e,0,0,0,0,o/n,0,0,r,0,1])},dispose:function(){this.context.deleteProgram(this.program),this.context.deleteBuffer(this.quadVertexBuffer)}};var v=function(t){this.context=null,this.programs=new G,this.context=t};v.__name__=!0,v.prototype={compileProgram:function(t,e,i){var r=this.context.createProgram();if(this.context.attachShader(r,this.compileShader(e,35633)),this.context.attachShader(r,this.compileShader(i,35632)),this.context.linkProgram(r),!this.context.getProgramParameter(r,35714)){this.context.getProgramInfoLog(r);throw this.context.deleteProgram(r),new P("Program linking error. Program name: "+t)}var n=this.programs;null!=H[t]?n.setReserved(t,r):n.h[t]=r},compileShader:function(t,e){var i=this.context.createShader(e);if(this.context.shaderSource(i,b.getString(t)),this.context.compileShader(i),!this.context.getShaderParameter(i,35713)){this.context.getShaderInfoLog(i);throw this.context.deleteShader(i),new P("Shader compilation error. Shader file name: "+t)}return i},getProgram:function(t){var e=this.programs;if(!(null!=H[t]?e.existsReserved(t):e.h.hasOwnProperty(t)))throw new P("The program hasn't been compiled yet. Program name: "+t);var i=this.programs;return null!=H[t]?i.getReserved(t):i.h[t]}};var m=function(){this.y=0,this.x=0};m.__name__=!0,m.prototype={add:function(t,e){this.x+=t,this.y+=e},set:function(t,e){this.x=t,this.y=e}};var S=t.game.Config=function(){};S.__name__=!0;var I=function(){this.lightSpeed=0,this.isAnimatingLight=!1,this.light=new l,this.position=new m,this.currentSpeed=new m,this.shape=new g,this.shape.position=this.position,this.shape.width=S.TILE_SIZE,this.shape.height=S.TILE_SIZE,this.shape.color=S.GLOW_COLOR};I.__name__=!0,I.prototype={update:function(t){this.calculateSpeed(),this.move(t),this.emitLight()},calculateSpeed:function(){this.currentSpeed.add(0,S.GLOW_FALL_ACCELERATION),c.RIGHT.currentState==c.KEY_DOWN?this.currentSpeed.set(S.GLOW_SPEED,this.currentSpeed.y):c.LEFT.currentState==c.KEY_DOWN?this.currentSpeed.set(-S.GLOW_SPEED,this.currentSpeed.y):this.currentSpeed.set(0,this.currentSpeed.y),c.SPACE.currentState==c.KEY_DOWN&&c.SPACE.previousState==c.KEY_UP&&this.currentSpeed.add(0,S.GLOW_JUMP_ACCELERATION)},move:function(t){this.moveHorizontally(this.position.x+this.currentSpeed.x,t),this.moveVertically(this.position.y+this.currentSpeed.y,t)},moveHorizontally:function(t,e){if(!h.equals(t,this.position.x)){if(t<this.position.x){var i=Math.floor((t-1)/S.TILE_SIZE),r=e.getIntersection(Math.floor(this.position.y/S.TILE_SIZE),i),n=e.getIntersection(Math.floor((this.position.y+S.TILE_SIZE-1)/S.TILE_SIZE),i);this.position.x=1==r||1==n?(i+1)*S.TILE_SIZE:t}else{var o=Math.floor((t+S.TILE_SIZE)/S.TILE_SIZE),s=e.getIntersection(Math.floor(this.position.y/S.TILE_SIZE),o),a=e.getIntersection(Math.floor((this.position.y+S.TILE_SIZE-1)/S.TILE_SIZE),o);this.position.x=1==s||1==a?(o-1)*S.TILE_SIZE:t}this.light.position.x=this.position.x+S.TILE_SIZE/2}},moveVertically:function(t,e){if(!h.equals(t,this.position.y)){if(t<this.position.y){var i=Math.floor((t-1)/S.TILE_SIZE),r=e.getIntersection(i,Math.floor(this.position.x/S.TILE_SIZE)),n=e.getIntersection(i,Math.floor((this.position.x+S.TILE_SIZE-1)/S.TILE_SIZE));1==r||1==n?(this.position.y=(i+1)*S.TILE_SIZE,this.currentSpeed.set(this.currentSpeed.x,0)):this.position.y=t}else{var o=Math.floor((t+S.TILE_SIZE)/S.TILE_SIZE),s=e.getIntersection(o,Math.floor(this.position.x/S.TILE_SIZE)),a=e.getIntersection(o,Math.floor((this.position.x+S.TILE_SIZE-1)/S.TILE_SIZE));1==s||1==a?(this.position.y=(o-1)*S.TILE_SIZE,this.currentSpeed.set(this.currentSpeed.x,0)):this.position.y=t}this.light.position.y=this.position.y+S.TILE_SIZE/2}},emitLight:function(){c.SPACE.currentState==c.KEY_DOWN&&c.SPACE.previousState==c.KEY_UP&&(this.lightSpeed=S.GLOW_LIGHT_STARTING_SPEED,this.light.radius=S.GLOW_LIGHT_MIN_RADIUS,this.isAnimatingLight=!0),this.isAnimatingLight&&(this.lightSpeed+=S.GLOW_LIGHT_ACCELERATION,this.light.radius+=this.lightSpeed,this.light.radius>S.GLOW_LIGHT_MAX_RADIUS&&(this.isAnimatingLight=!1,this.light.radius=0))}};var x=function(){this.glowPosition=new m,this.data=[],this.compositeShape=[],this.data=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,1,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,1]];for(var t=0,e=this.data.length;t<e;)for(var i=t++,r=0,n=this.data[i].length;r<n;){var o=r++,s=o*S.TILE_SIZE,a=i*S.TILE_SIZE;if(1==this.data[i][o]||2==this.data[i][o]){var h=new g;h.position.set(s,a),h.width=S.TILE_SIZE,h.height=S.TILE_SIZE,1==this.data[i][o]&&(h.color=S.LEVEL_COLOR),2==this.data[i][o]&&(h.color=S.EXIT_COLOR),this.compositeShape.push(h)}3==this.data[i][o]&&this.glowPosition.set(o*S.TILE_SIZE,i*S.TILE_SIZE)}};x.__name__=!0,x.prototype={isCellValid:function(t,e){return 0<=t&&t<this.data.length&&0<=e&&e<this.data[t].length},getIntersection:function(t,e){return this.isCellValid(t,e)?2==this.data[t][e]?2:1==this.data[t][e]?1:0:-1}};var E=n["game.GameResult"]={__ename__:!0,__constructs__:["Quit","Restart"],Quit:{_hx_index:0,__enum__:"game.GameResult",toString:r},Restart:{_hx_index:1,__enum__:"game.GameResult",toString:r}},y=function(){};y.__name__=!0,y.main=function(){y.launch()},y.launch=function(){(new w).run().then(function(t){switch(t._hx_index){case 0:window.alert("You won!");break;case 1:window.alert("You've lost. Try again!"),y.launch()}})};var w=function(){this.gameResult=new d,this.level=new x,this.glow=new I,this.renderer=new p(S.GAME_WIDTH,S.GAME_HEIGHT),this.keyboard=new u([c.SPACE,c.RIGHT,c.LEFT,c.SHIFT]),this.loop=new _};w.__name__=!0,w.prototype={run:function(){return this.glow.position.set(this.level.glowPosition.x,this.level.glowPosition.y),this.glow.light.position.set(this.glow.position.x+S.TILE_SIZE/2,this.glow.position.y+S.TILE_SIZE/2),this.renderer.add([this.glow.shape]),this.renderer.setLight(this.glow.light),this.renderer.add(this.level.compositeShape),this.loop.start(Y(this,this.update)),this.gameResult},update:function(t){this.keyboard.update(),this.glow.update(this.level);var e=this.level.getIntersection(Math.floor((this.glow.position.y+S.TILE_SIZE/2)/S.TILE_SIZE),Math.floor((this.glow.position.x+S.TILE_SIZE/2)/S.TILE_SIZE));-1!=e?2!=e?this.renderer.draw():this.stop(E.Quit):this.stop(E.Restart)},stop:function(t){this.loop.stop(),this.renderer.dispose(),this.keyboard.dispose(),this.gameResult.resolve(t)}};var b=function(){};b.__name__=!0,b.getString=function(t){for(var e=0,i=b.content;e<i.length;){var r=i[e];if(++e,r.name==t)return null!=r.str?r.str:C.decode(r.data).toString()}return null};var A=function(t){this.length=t.byteLength,this.b=new Uint8Array(t),this.b.bufferValue=t,t.hxBytes=this,t.bytes=this.b};A.__name__=!0,A.ofString=function(t,e){if(e==L.RawNative){for(var i=new Uint8Array(t.length<<1),r=0,n=t.length;r<n;){var o=r++,s=t.charCodeAt(o);i[o<<1]=255&s,i[o<<1|1]=s>>8}return new A(i.buffer)}for(var a=[],h=0;h<t.length;){var _=t.charCodeAt(h++);55296<=_&&_<=56319&&(_=_-55232<<10|1023&t.charCodeAt(h++)),_<=127?a.push(_):_<=2047?(a.push(192|_>>6),a.push(128|63&_)):_<=65535?(a.push(224|_>>12),a.push(128|_>>6&63),a.push(128|63&_)):(a.push(240|_>>18),a.push(128|_>>12&63),a.push(128|_>>6&63),a.push(128|63&_))}return new A(new Uint8Array(a).buffer)},A.prototype={getString:function(t,e,i){if(t<0||e<0||t+e>this.length)throw new P(W.OutsideBounds);null==i&&(i=L.UTF8);var r="",n=this.b,o=t,s=t+e;switch(i._hx_index){case 0:for(;o<s;){var a=n[o++];if(a<128){if(0==a)break;r+=String.fromCodePoint(a)}else if(a<224){var h=(63&a)<<6|127&n[o++];r+=String.fromCodePoint(h)}else if(a<240){var _=(31&a)<<12|(127&n[o++])<<6|127&n[o++];r+=String.fromCodePoint(_)}else{var c=(15&a)<<18|(127&n[o++])<<12|(127&n[o++])<<6|127&n[o++];r+=String.fromCodePoint(c)}}break;case 1:for(;o<s;){var u=n[o++]|n[o++]<<8;r+=String.fromCodePoint(u)}}return r},toString:function(){return this.getString(0,this.length)}};var L=n["haxe.io.Encoding"]={__ename__:!0,__constructs__:["UTF8","RawNative"],UTF8:{_hx_index:0,__enum__:"haxe.io.Encoding",toString:r},RawNative:{_hx_index:1,__enum__:"haxe.io.Encoding",toString:r}},C=function(){};C.__name__=!0,C.decode=function(t,e){if(null==e&&(e=!0),e)for(;61==o.cca(t,t.length-1);)t=o.substr(t,0,-1);return new Z(C.BYTES).decodeBytes(A.ofString(t))};var Z=function(t){for(var e=t.length,i=1;e>1<<i;)++i;if(i>8||e!=1<<i)throw new P("BaseCode : base length must be a power of two.");this.base=t,this.nbits=i};Z.__name__=!0,Z.prototype={initTable:function(){for(var t=[],e=0;e<256;){t[e++]=-1}for(var i=0,r=this.base.length;i<r;){var n=i++;t[this.base.b[n]]=n}this.tbl=t},decodeBytes:function(t){var e=this.nbits;this.base;null==this.tbl&&this.initTable();for(var i=this.tbl,r=t.length*e>>3,n=new A(new ArrayBuffer(r)),o=0,s=0,a=0,h=0;h<r;){for(;s<8;){s+=e,o<<=e;var _=i[t.b[a++]];if(-1==_)throw new P("BaseCode : invalid encoded char");o|=_}s-=8,n.b[h++]=o>>s&255}return n}};var T=function(){this.h={}};T.__name__=!0;var G=function(){this.h={}};G.__name__=!0,G.prototype={setReserved:function(t,e){null==this.rh&&(this.rh={}),this.rh["$"+t]=e},getReserved:function(t){return null==this.rh?null:this.rh["$"+t]},existsReserved:function(t){return null!=this.rh&&this.rh.hasOwnProperty("$"+t)}};var W=n["haxe.io.Error"]={__ename__:!0,__constructs__:["Blocked","Overflow","OutsideBounds","Custom"],Blocked:{_hx_index:0,__enum__:"haxe.io.Error",toString:r},Overflow:{_hx_index:1,__enum__:"haxe.io.Error",toString:r},OutsideBounds:{_hx_index:2,__enum__:"haxe.io.Error",toString:r},Custom:(i=function(t){return{_hx_index:3,e:t,__enum__:"haxe.io.Error",toString:r}},i.__params__=["e"],i)},P=function(t){Error.call(this),this.val=t,Error.captureStackTrace&&Error.captureStackTrace(this,P)};P.__name__=!0,P.__super__=Error,P.prototype=function(t,e){var i=Object.create(t);for(var r in e)i[r]=e[r];return e.toString!==Object.prototype.toString&&(i.toString=e.toString),i}(Error.prototype,{});var R=function(){};R.__name__=!0,R.__string_rec=function(t,e){if(null==t)return"null";if(e.length>=5)return"<...>";var i=typeof t;switch("function"==i&&(t.__name__||t.__ename__)&&(i="object"),i){case"function":return"<function>";case"object":if(t.__enum__){var r=n[t.__enum__],o=r.__constructs__[t._hx_index],s=r[o];return s.__params__?(e+="\t",o+"("+function(i){for(var r=[],n=0,o=s.__params__;n<o.length;){var a=o[n];n+=1,r.push(R.__string_rec(t[a],e))}return r}().join(",")+")"):o}if(t instanceof Array){var a="[";e+="\t";for(var h=0,_=t.length;h<_;){var c=h++;a+=(c>0?",":"")+R.__string_rec(t[c],e)}return a+="]"}var u;try{u=t.toString}catch(t){t instanceof P&&t.val;return"???"}if(null!=u&&u!=Object.toString&&"function"==typeof u){var l=t.toString();if("[object Object]"!=l)return l}var d="{\n";e+="\t";var g=null!=t.hasOwnProperty,p=null;for(p in t)g&&!t.hasOwnProperty(p)||"prototype"!=p&&"__class__"!=p&&"__super__"!=p&&"__interfaces__"!=p&&"__properties__"!=p&&(2!=d.length&&(d+=", \n"),d+=e+p+" : "+R.__string_rec(t[p],e));return d+="\n"+(e=e.substring(1))+"}";case"string":return t;default:return String(t)}};var O=function(){};function Y(t,i){return null==i?null:(null==i.__id__&&(i.__id__=e.$haxeUID++),null==t.hx__closures__?t.hx__closures__={}:r=t.hx__closures__[i.__id__],null==r&&(r=i.bind(t),t.hx__closures__[i.__id__]=r),r);var r}O.__name__=!0,O.getContextWebGL=function(t,e){var i=t.getContext("webgl",e);if(null!=i)return i;var r=t.getContext("experimental-webgl",e);return null!=r?r:null},e.$haxeUID|=0,null==String.fromCodePoint&&(String.fromCodePoint=function(t){return t<65536?String.fromCharCode(t):String.fromCharCode(55232+(t>>10))+String.fromCharCode(56320+(1023&t))}),String.__name__=!0,Array.__name__=!0,b.content=[{name:"FragmentShader.glsl",data:"cHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7Cgp2YXJ5aW5nIHZlYzQgY29sb3I7CnVuaWZvcm0gdmVjMyBsaWdodF9jb25maWd1cmF0aW9uOwp1bmlmb3JtIG1hdDQgc2NyZWVuX3NwYWNlX3Byb2plY3Rpb247Cgp2b2lkIG1haW4oKSB7CiAgICB2ZWM0IGxpZ2h0X2NvbmZpZ3VyYXRpb25fc2NyZWVuX3NwYWNlID0gc2NyZWVuX3NwYWNlX3Byb2plY3Rpb24gKiB2ZWM0KGxpZ2h0X2NvbmZpZ3VyYXRpb24sIDEpOwogICAgZmxvYXQgbGlnaHRfcmFkaXVzID0gbGlnaHRfY29uZmlndXJhdGlvbl9zY3JlZW5fc3BhY2UuejsKCiAgICBmbG9hdCBsaWdodF9pbnRlbnNpdHkgPSAwLjA7CiAgICBpZiAobGlnaHRfcmFkaXVzID4gMC4wMDAxKQogICAgewogICAgICAgIHZlYzIgbGlnaHRfZnJhZ21lbnRfZGlmZmVyZW5jZSA9IGdsX0ZyYWdDb29yZC54eSAtIGxpZ2h0X2NvbmZpZ3VyYXRpb25fc2NyZWVuX3NwYWNlLnh5OwogICAgICAgIGxpZ2h0X2ludGVuc2l0eSA9IG1heCgxLjAgLSBkb3QobGlnaHRfZnJhZ21lbnRfZGlmZmVyZW5jZSwgbGlnaHRfZnJhZ21lbnRfZGlmZmVyZW5jZSkgLyAobGlnaHRfcmFkaXVzICogbGlnaHRfcmFkaXVzKSwgMC4wKTsKICAgIH0KCiAgICBmbG9hdCBnYW1tYSA9IDIuMjsKICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQocG93KHZlYzMoY29sb3IuciwgY29sb3IuZywgY29sb3IuYikgKiBsaWdodF9pbnRlbnNpdHksIHZlYzMoMS4wIC8gZ2FtbWEpKSwgMSk7Cn0"},{name:"VertexShader.glsl",data:"cHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7CgphdHRyaWJ1dGUgdmVjMiBxdWFkX3Bvc2l0aW9uOwphdHRyaWJ1dGUgdmVjMyBxdWFkX2NvbG9yOwoKdW5pZm9ybSBtYXQ0IGNsaXBfc3BhY2VfcHJvamVjdGlvbjsKdmFyeWluZyB2ZWM0IGNvbG9yOwoKdm9pZCBtYWluKCkgewogICAgZ2xfUG9zaXRpb24gPSBjbGlwX3NwYWNlX3Byb2plY3Rpb24gKiB2ZWM0KHF1YWRfcG9zaXRpb24sIDAsIDEpOwogICAgY29sb3IgPSB2ZWM0KHF1YWRfY29sb3IsIDEpOwp9"}];var H={};Object.defineProperty(P.prototype,"message",{get:function(){return String(this.val)}}),R.__toStr={}.toString,c.KEY_DOWN="KEY_DOWN",c.KEY_UP="KEY_UP",c.SPACE=new c(32),c.RIGHT=new c(39),c.LEFT=new c(37),c.SHIFT=new c(16),S.TILE_SIZE=20,S.GAME_WIDTH_TILES=40,S.GAME_HEIGHT_TILES=30,S.GAME_WIDTH=S.GAME_WIDTH_TILES*S.TILE_SIZE,S.GAME_HEIGHT=S.GAME_HEIGHT_TILES*S.TILE_SIZE,S.GLOW_COLOR=a.get_WHITE(),S.GLOW_SPEED=1,S.GLOW_LIGHT_MIN_RADIUS=20,S.GLOW_LIGHT_MAX_RADIUS=220,S.GLOW_LIGHT_STARTING_SPEED=1,S.GLOW_LIGHT_ACCELERATION=2,S.EXIT_COLOR=a.get_YELLOW(),S.LEVEL_COLOR=a.get_RED(),S.GLOW_FALL_ACCELERATION=.2,S.GLOW_JUMP_ACCELERATION=-5,C.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C.BYTES=A.ofString(C.CHARS),y.main()}("undefined"!=typeof exports?exports:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);</script>
</body>
</html>